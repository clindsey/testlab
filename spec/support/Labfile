#!/usr/bin/env ruby
#^syntax detection

node :localhost do

  provider    TestLab::Provider::Vagrant

  config      Hash[
    :vagrant => {
      :id       => "mytestlab-#{ENV['USER']}".downcase,
      :ip       => "192.168.33.10",
      :user     => "vagrant",
      :port     => 22,
      :cpus     => 1,
      :memory   => 512
    },
    :repo => File.dirname(__FILE__)
  ]

  network :testnet do
    ip          "192.168.255.254/16"
    bridge      :br0
  end

  container "server-1" do
    distro        "ubuntu"
    release       "lucid"

    interfaces Hash[
      :testnet => {
        :ip => "192.168.0.254/16",
        :name => :eth0
      }
    ]
  end

end
